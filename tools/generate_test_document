#!/bin/bash

# This program will generate test documentation from robot test cases

# Description of argument(s):
# test_dir_path            Test directory where robot test cases available
# test_case_doc_file_name  The test case document file path to be stored.

function generate_all_test_document ()
{
  # This function will generate all test documents
  python -m robot.testdoc tests testsdirectoryTCdocs.html
  python -m robot.testdoc extended extendeddirectoryTCdocs.html
  python -m robot.testdoc gui guidirectoryTCdocs.html
}

function validate_arguments ()
{
 # This function will check for number of arguments and if no arguments
 # then it will kick off function generate_all_test_document
 local no_of_arguments="$1"
 if [ $no_of_arguments -eq 0 ]; then
    generate_all_test_document
    exit 
 fi
}
 
function get_arguments_generate_test_doc ()
{
 # This function will validate arguments 

 local test_dir_path="$1"
 local test_case_doc_file_name="$2"
 # Validate arguments.
 if [ -z "${test_dir_path}" ] ; then
    echo "**ERROR** You must provide test directory as the first positional" \
       "parameter." >&2
    exit 1
 fi

 if [ -z "${test_case_doc_file_name}" ] ; then
    echo "**ERROR** You must provide file path as the second positional" \
       "parameter." >&2
    exit 1
 fi
 python -m robot.testdoc ${test_dir_path} ${test_case_doc_file_name}
}

# Main 

validate_arguments $#
get_arguments_generate_test_doc ${1} ${2}
