#!/bin/bash

# This script is a wrapper for the python program.  This wrapper allows the
# user to influence the selection of the python version by setting the
# PYTHON_VERSION environment variable.

# If PYTHON_VERSION is blank or not set, then the python version will be
# whatever the system default python version is.  If PYTHON_VERSION is set to
# a value (e.g. "3"), then python3 will be used.  If PYTHON_VERSION is set to
# some value that does not correspond to a valid python version for the given
# system, this program will fail.


# Source files to get other functions.
source_files="gen_setup.sh gen_list.sh"
source_file_paths=$(type -p ${source_files})
for file_path in ${source_file_paths} ; do source ${file_path} ; done


function get_python_pgm_path {

  local PATH="${PATH}"
  # Remove program_dir_path from PATH (making sure program_dir_path does NOT
  # have a trailing slash).
  remove_list_element "${program_dir_path%/}" PATH : || return 1
  type -p python${PYTHON_VERSION}

}


set_pgm_name

PYTHON_PGM_PATH=$(get_python_pgm_path)

${PYTHON_PGM_PATH} "${@}"
